<div data-ng-cloak data-ng-controller="EngagementIndexController" class="dc-engagement-index">

  <div class="dc-main">

    <h1 class="text-center">Engagement Index Prototype (Front-End)</h1>


    <!-- Note for user -->
    <div class="dc-note">
<!--       <div data-ng-show="shownote"><p class="text-info">Your points (below) are currently NOT viewable by other students.</p></div> -->
      <div data-ng-show="shownote" class="alert alert-info">
        <strong>Note: </strong>Your points (below) are currently NOT viewable by other students.
      </div>
      <div data-ng-show="!shownote" class="alert alert-info">
        <strong>Note: </strong>Your points are currently viewable by other students.
      </div>
<!--       <div data-ng-show="!shownote"><p class="text-info">Your points are currently viewable by other students.</p></div>
 -->    </div>


    <!-- The Current User's Engagement Index -->
    <table class="table table-condensed dc-table-striped-border">
      <thead class="dc-header-color">
        <tr>
          <th class="dc-header-title">Section</th>
          <th class="dc-header-title">Student</th>
          <th class="dc-header-title">Points</th>
          <th class="dc-header-title">Last Point Earned</th>
          <th class="dc-header-title">Share</th>
        </tr>
      </thead>
      <tbody>
        <tr class="warning">
          <td class="col-sm-2" data-ng-show="!students.visibility" data-ng-bind="currStudent.section"></td>
          <td class="col-sm-3" data-ng-show="!students.visibility"><a href="#">{{currStudent.firstname}} {{currStudent.lastname}}</a></td>
          <td class="col-sm-3" data-ng-show="!students.visibility" data-ng-bind="currStudent.points"></td>
          <td class="col-sm-3" data-ng-show="!students.visibility" data-ng-bind="currStudent.lastupdate"></td>
          <td class="col-sm-3" data-ng-show="showshare" data-ng-click="shareView(currStudent)">
            <button class="btn dc-btn-info" type="button" data-tooltip title="If you share, your score will be shown on the Engagement Index below.">Share</button>
          </td>
          <td class="col-sm-3" data-ng-show="!showshare" data-ng-click="unshareView(currStudent)">
            <button class="btn dc-btn-info" type="button" data-tooltip title="If you unshare, your score will be removed from the Engagement Index below.">Unshare</button>
          </td>
        </tr>
      </tbody>
    </table>






    <div class="dc-sort-controls">
      <form class="form-inline">
        <div class="btn-group">
          <!-- Sort Controls -->
          <button class="btn dc-btn-info" type="button">Sort By</button>
          <button class="btn dc-btn-info dropdown-toggle" type="button" data-toggle="dropdown">
            <span class="caret"></span>
            <span class="sr-only">Toggle Dropdown</span>
          </button>

          <!-- Sort-by Options -->
          <ul class="dropdown-menu">
            <li><a href="#" data-ng-click="predicate='firstname'">First Name</a></li>
            <li><a href="#" data-ng-click="predicate='lastname'">Last Name</a></li>
            <li><a href="#" data-ng-click="predicate='points'" data-ng-show="showpoints">Points</a></li>
            <li><a href="#" data-ng-click="predicate='section'">Section</a></li>
            <li><a href="#" data-ng-click="predicate='lastupdate'">Last Point Earned</a></li>
            <li class="divider"></li>
            <li><a href="#" data-ng-click="predicate='id'">Default</a></li>
          </ul>

        </div><!-- End of btn-group -->

        <!-- Filter search by student & course section -->
        <input type="text" class="dc-engagement-search" placeholder="Search for student..." data-ng-model="search.$">
        <input type="text" class="dc-engagement-search" placeholder="Filter by section..." data-ng-model="search.section">

      </form><!-- End of form -->
    </div><!-- End of dc-sort-controls -->















    <!-- Engagement Index Table -->
    <table class="table table-striped dc-table-striped-border dc-table-margin">
      <thead class="dc-header-color">
        <tr>
          <th class="dc-header-title">Section</th>
          <th class="dc-header-title">Student</th>
          <th class="dc-header-title" data-ng-show="showpoints">Points</th>
          <th class="dc-header-title">Last Point Earned</th>
          <th class="dc-header-title">Share</th>
        </tr>
      </thead>
      <tbody>
        <tr data-ng-repeat="students in people | orderBy:predicate:reverse | filter:search:strict">
          <td class="col-sm-2" data-ng-show="students.visibility" data-ng-bind="students.section"></td>
          <td class="col-sm-3" data-ng-show="students.visibility"><a href="#">{{students.firstname}} {{students.lastname}}</a></td>
          <td class="col-sm-3" data-ng-show="showpoints" data-ng-bind="students.points"></td>
          <td class="col-sm-3" data-ng-show="students.visibility" data-ng-bind="students.lastupdate"></td>
          <td class="col-sm-3" data-ng-show="students.visibility" data-ng-bind="students.sharePoints"></td>
        </tr>
      </tbody>
    </table>

  </div><!-- End of main div -->
</div><!-- End of dc-engagement-index -->
